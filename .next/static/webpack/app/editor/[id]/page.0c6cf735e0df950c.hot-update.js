"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
self["webpackHotUpdate_N_E"]("app/editor/[id]/page",{

/***/ "(app-pages-browser)/./app/editor/[id]/page.tsx":
/*!**********************************!*\
  !*** ./app/editor/[id]/page.tsx ***!
  \**********************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   \"default\": function() { return /* binding */ EditorPage; }\n/* harmony export */ });\n/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-dev-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var next_navigation__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! next/navigation */ \"(app-pages-browser)/./node_modules/next/dist/api/navigation.js\");\n/* harmony import */ var _components_ui_button__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! @/components/ui/button */ \"(app-pages-browser)/./components/ui/button.tsx\");\n/* harmony import */ var _components_ui_input__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! @/components/ui/input */ \"(app-pages-browser)/./components/ui/input.tsx\");\n/* harmony import */ var _components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! @/components/ui/tabs */ \"(app-pages-browser)/./components/ui/tabs.tsx\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/arrow-left.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_12__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/pen-line.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_13__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/save.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_14__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/settings.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_15__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/message-square.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_16__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/clock.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_17__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/hash.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_18__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-right.js\");\n/* harmony import */ var _barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_19__ = __webpack_require__(/*! __barrel_optimize__?names=ArrowLeft,ChevronLeft,ChevronRight,Clock,Edit3,Hash,MessageSquare,Save,Settings!=!lucide-react */ \"(app-pages-browser)/./node_modules/lucide-react/dist/esm/icons/chevron-left.js\");\n/* harmony import */ var _components_editor_content__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @/components/editor-content */ \"(app-pages-browser)/./components/editor-content.tsx\");\n/* harmony import */ var _components_chat_interface__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! @/components/chat-interface */ \"(app-pages-browser)/./components/chat-interface.tsx\");\n/* harmony import */ var _components_sources_panel__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @/components/sources-panel */ \"(app-pages-browser)/./components/sources-panel.tsx\");\n/* harmony import */ var _components_version_history__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! @/components/version-history */ \"(app-pages-browser)/./components/version-history.tsx\");\n/* harmony import */ var _lib_openai_config__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! @/lib/openai-config */ \"(app-pages-browser)/./lib/openai-config.ts\");\n/* __next_internal_client_entry_do_not_use__ default auto */ \nvar _s = $RefreshSig$();\n\n\n\n\n\n\n\n\n\n\n\nfunction EditorPage(param) {\n    let { params } = param;\n    _s();\n    const [title, setTitle] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"Untitled Document\");\n    const [content, setContent] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [isEditing, setIsEditing] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [showSidebar, setShowSidebar] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true);\n    const [activeTab, setActiveTab] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"chat\");\n    const [isGenerating, setIsGenerating] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(false);\n    const [suggestion, setSuggestion] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(\"\");\n    const [apiConfigured, setApiConfigured] = (0,react__WEBPACK_IMPORTED_MODULE_1__.useState)(true) // Assume true initially\n    ;\n    const editorRef = (0,react__WEBPACK_IMPORTED_MODULE_1__.useRef)(null);\n    const router = (0,next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter)();\n    // Check if OpenAI API is configured\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        async function checkApiConfig() {\n            const isConfigured = await (0,_lib_openai_config__WEBPACK_IMPORTED_MODULE_10__.isOpenAIConfigured)();\n            setApiConfigured(isConfigured);\n        }\n        checkApiConfig();\n    }, []);\n    // Handle content changes\n    const handleContentChange = (newContent)=>{\n        // Ensure we're getting the content in the correct order\n        console.log(\"New content:\", newContent) // Add this debug log\n        ;\n        setContent(newContent);\n    };\n    // Handle Tab key for accepting suggestions\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        const handleKeyDown = (e)=>{\n            if (e.key === \"Tab\" && suggestion && !e.shiftKey) {\n                e.preventDefault();\n                setContent(content + suggestion);\n                setSuggestion(\"\");\n                generateNextSuggestion(content + suggestion);\n            }\n        };\n        document.addEventListener(\"keydown\", handleKeyDown);\n        return ()=>document.removeEventListener(\"keydown\", handleKeyDown);\n    }, [\n        content,\n        suggestion\n    ]);\n    // Generate next word suggestion when content changes\n    (0,react__WEBPACK_IMPORTED_MODULE_1__.useEffect)(()=>{\n        // Only generate suggestions if API is configured\n        if (!apiConfigured) return;\n        // Only generate suggestions after a short delay since the last keystroke\n        let debounceTimeout;\n        if (content && isEditing) {\n            debounceTimeout = setTimeout(()=>{\n                generateNextSuggestion(content);\n            }, 500); // 500ms delay\n        }\n        return ()=>{\n            if (debounceTimeout) clearTimeout(debounceTimeout);\n        };\n    }, [\n        content,\n        isEditing,\n        apiConfigured\n    ]);\n    const generateNextSuggestion = async (currentContent)=>{\n        if (!currentContent || isGenerating || !apiConfigured) return;\n        setIsGenerating(true);\n        try {\n            // Use our server-side API endpoint for suggestion generation\n            const suggestion = await (0,_lib_openai_config__WEBPACK_IMPORTED_MODULE_10__.generateSuggestion)(currentContent, {\n                maxLength: 15,\n                temperature: 0.4\n            });\n            setSuggestion(suggestion);\n        } catch (error) {\n            console.error(\"Error generating suggestion:\", error);\n            setSuggestion(\"\");\n        } finally{\n            setIsGenerating(false);\n        }\n    };\n    const toggleSidebar = ()=>{\n        setShowSidebar(!showSidebar);\n    };\n    return /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n        className: \"flex flex-col h-screen\",\n        children: [\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"header\", {\n                className: \"flex items-center justify-between px-4 py-2 border-b\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                onClick: ()=>router.push(\"/\"),\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_11__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 110,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                lineNumber: 109,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                className: \"flex items-center gap-2\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_12__[\"default\"], {\n                                        className: \"w-5 h-5\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 113,\n                                        columnNumber: 13\n                                    }, this),\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_input__WEBPACK_IMPORTED_MODULE_4__.Input, {\n                                        value: title,\n                                        onChange: (e)=>setTitle(e.target.value),\n                                        className: \"h-9 font-medium border-none focus-visible:ring-0 focus-visible:ring-offset-0\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 114,\n                                        columnNumber: 13\n                                    }, this)\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                lineNumber: 112,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                        lineNumber: 108,\n                        columnNumber: 9\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex items-center gap-2\",\n                        children: [\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"outline\",\n                                size: \"sm\",\n                                children: [\n                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_13__[\"default\"], {\n                                        className: \"w-4 h-4 mr-2\"\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 123,\n                                        columnNumber: 13\n                                    }, this),\n                                    \"Save\"\n                                ]\n                            }, void 0, true, {\n                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                lineNumber: 122,\n                                columnNumber: 11\n                            }, this),\n                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                                variant: \"ghost\",\n                                size: \"icon\",\n                                children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_14__[\"default\"], {\n                                    className: \"w-4 h-4\"\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 127,\n                                    columnNumber: 13\n                                }, this)\n                            }, void 0, false, {\n                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                lineNumber: 126,\n                                columnNumber: 11\n                            }, this)\n                        ]\n                    }, void 0, true, {\n                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                        lineNumber: 121,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                lineNumber: 107,\n                columnNumber: 7\n            }, this),\n            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                className: \"flex flex-1 overflow-hidden\",\n                children: [\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"flex-1 overflow-hidden\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                            className: \"relative h-full\",\n                            children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_editor_content__WEBPACK_IMPORTED_MODULE_6__.EditorContent, {\n                                content: content,\n                                suggestion: suggestion,\n                                onChange: handleContentChange,\n                                ref: editorRef\n                            }, void 0, false, {\n                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                lineNumber: 137,\n                                columnNumber: 13\n                            }, this)\n                        }, void 0, false, {\n                            fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                            lineNumber: 136,\n                            columnNumber: 11\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                        lineNumber: 135,\n                        columnNumber: 9\n                    }, this),\n                    showSidebar && /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                        className: \"w-80 border-l bg-background\",\n                        children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.Tabs, {\n                            value: activeTab,\n                            onValueChange: setActiveTab,\n                            className: \"h-full flex flex-col\",\n                            children: [\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(\"div\", {\n                                    className: \"border-b\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsList, {\n                                        className: \"w-full justify-start rounded-none border-b px-2 h-12\",\n                                        children: [\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsTrigger, {\n                                                value: \"chat\",\n                                                className: \"data-[state=active]:bg-muted\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_15__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                        lineNumber: 148,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Chat\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                lineNumber: 147,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsTrigger, {\n                                                value: \"versions\",\n                                                className: \"data-[state=active]:bg-muted\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_16__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                        lineNumber: 152,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Versions\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                lineNumber: 151,\n                                                columnNumber: 19\n                                            }, this),\n                                            /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsTrigger, {\n                                                value: \"sources\",\n                                                className: \"data-[state=active]:bg-muted\",\n                                                children: [\n                                                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_17__[\"default\"], {\n                                                        className: \"w-4 h-4 mr-2\"\n                                                    }, void 0, false, {\n                                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                        lineNumber: 156,\n                                                        columnNumber: 21\n                                                    }, this),\n                                                    \"Sources\"\n                                                ]\n                                            }, void 0, true, {\n                                                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                                lineNumber: 155,\n                                                columnNumber: 19\n                                            }, this)\n                                        ]\n                                    }, void 0, true, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 146,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 145,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsContent, {\n                                    value: \"chat\",\n                                    className: \"flex-1 p-0 m-0 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_chat_interface__WEBPACK_IMPORTED_MODULE_7__.ChatInterface, {\n                                        documentContent: content,\n                                        onInsertText: (text)=>setContent(content + text)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 163,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 162,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsContent, {\n                                    value: \"versions\",\n                                    className: \"flex-1 p-0 m-0 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_version_history__WEBPACK_IMPORTED_MODULE_9__.VersionHistory, {\n                                        documentId: params.id,\n                                        onSelectVersion: (versionContent)=>setContent(versionContent)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 167,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 166,\n                                    columnNumber: 15\n                                }, this),\n                                /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_tabs__WEBPACK_IMPORTED_MODULE_5__.TabsContent, {\n                                    value: \"sources\",\n                                    className: \"flex-1 p-0 m-0 overflow-hidden\",\n                                    children: /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_sources_panel__WEBPACK_IMPORTED_MODULE_8__.SourcesPanel, {\n                                        documentId: params.id,\n                                        onInsertReference: (reference)=>setContent(content + reference)\n                                    }, void 0, false, {\n                                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                        lineNumber: 174,\n                                        columnNumber: 17\n                                    }, this)\n                                }, void 0, false, {\n                                    fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                                    lineNumber: 173,\n                                    columnNumber: 15\n                                }, this)\n                            ]\n                        }, void 0, true, {\n                            fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                            lineNumber: 144,\n                            columnNumber: 13\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                        lineNumber: 143,\n                        columnNumber: 11\n                    }, this),\n                    /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_components_ui_button__WEBPACK_IMPORTED_MODULE_3__.Button, {\n                        variant: \"ghost\",\n                        size: \"icon\",\n                        className: \"absolute right-0 top-1/2 transform -translate-y-1/2 z-10\",\n                        onClick: toggleSidebar,\n                        children: showSidebar ? /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_18__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                            lineNumber: 190,\n                            columnNumber: 26\n                        }, this) : /*#__PURE__*/ (0,react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__.jsxDEV)(_barrel_optimize_names_ArrowLeft_ChevronLeft_ChevronRight_Clock_Edit3_Hash_MessageSquare_Save_Settings_lucide_react__WEBPACK_IMPORTED_MODULE_19__[\"default\"], {\n                            className: \"w-4 h-4\"\n                        }, void 0, false, {\n                            fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                            lineNumber: 190,\n                            columnNumber: 65\n                        }, this)\n                    }, void 0, false, {\n                        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                        lineNumber: 184,\n                        columnNumber: 9\n                    }, this)\n                ]\n            }, void 0, true, {\n                fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n                lineNumber: 133,\n                columnNumber: 7\n            }, this)\n        ]\n    }, void 0, true, {\n        fileName: \"/Users/einar/Documents/GitHub/writing-app/app/editor/[id]/page.tsx\",\n        lineNumber: 105,\n        columnNumber: 5\n    }, this);\n}\n_s(EditorPage, \"Hdv8L2e8yYJDL9eM+3KubV8vO0Y=\", false, function() {\n    return [\n        next_navigation__WEBPACK_IMPORTED_MODULE_2__.useRouter\n    ];\n});\n_c = EditorPage;\nvar _c;\n$RefreshReg$(_c, \"EditorPage\");\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2FwcC9lZGl0b3IvW2lkXS9wYWdlLnRzeCIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFFbUQ7QUFDUjtBQUNJO0FBQ0Y7QUFDa0M7QUFDdUM7QUFHM0Q7QUFDQTtBQUNGO0FBQ0k7QUFDZTtBQUU3RCxTQUFTeUIsV0FBVyxLQUFzQztRQUF0QyxFQUFFQyxNQUFNLEVBQThCLEdBQXRDOztJQUNqQyxNQUFNLENBQUNDLE9BQU9DLFNBQVMsR0FBRzFCLCtDQUFRQSxDQUFDO0lBQ25DLE1BQU0sQ0FBQzJCLFNBQVNDLFdBQVcsR0FBRzVCLCtDQUFRQSxDQUFDO0lBQ3ZDLE1BQU0sQ0FBQzZCLFdBQVdDLGFBQWEsR0FBRzlCLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQytCLGFBQWFDLGVBQWUsR0FBR2hDLCtDQUFRQSxDQUFDO0lBQy9DLE1BQU0sQ0FBQ2lDLFdBQVdDLGFBQWEsR0FBR2xDLCtDQUFRQSxDQUFDO0lBQzNDLE1BQU0sQ0FBQ21DLGNBQWNDLGdCQUFnQixHQUFHcEMsK0NBQVFBLENBQUM7SUFDakQsTUFBTSxDQUFDcUMsWUFBWUMsY0FBYyxHQUFHdEMsK0NBQVFBLENBQUM7SUFDN0MsTUFBTSxDQUFDdUMsZUFBZUMsaUJBQWlCLEdBQUd4QywrQ0FBUUEsQ0FBQyxNQUFNLHdCQUF3Qjs7SUFDakYsTUFBTXlDLFlBQVkxQyw2Q0FBTUEsQ0FBaUI7SUFDekMsTUFBTTJDLFNBQVN6QywwREFBU0E7SUFFeEIsb0NBQW9DO0lBQ3BDSCxnREFBU0EsQ0FBQztRQUNSLGVBQWU2QztZQUNiLE1BQU1DLGVBQWUsTUFBTXRCLHVFQUFrQkE7WUFDN0NrQixpQkFBaUJJO1FBQ25CO1FBRUFEO0lBQ0YsR0FBRyxFQUFFO0lBRUwseUJBQXlCO0lBQ3pCLE1BQU1FLHNCQUFzQixDQUFDQztRQUMzQix3REFBd0Q7UUFDeERDLFFBQVFDLEdBQUcsQ0FBQyxnQkFBZ0JGLFlBQVkscUJBQXFCOztRQUM3RGxCLFdBQVdrQjtJQUNiO0lBRUEsMkNBQTJDO0lBQzNDaEQsZ0RBQVNBLENBQUM7UUFDUixNQUFNbUQsZ0JBQWdCLENBQUNDO1lBQ3JCLElBQUlBLEVBQUVDLEdBQUcsS0FBSyxTQUFTZCxjQUFjLENBQUNhLEVBQUVFLFFBQVEsRUFBRTtnQkFDaERGLEVBQUVHLGNBQWM7Z0JBQ2hCekIsV0FBV0QsVUFBVVU7Z0JBQ3JCQyxjQUFjO2dCQUNkZ0IsdUJBQXVCM0IsVUFBVVU7WUFDbkM7UUFDRjtRQUVBa0IsU0FBU0MsZ0JBQWdCLENBQUMsV0FBV1A7UUFDckMsT0FBTyxJQUFNTSxTQUFTRSxtQkFBbUIsQ0FBQyxXQUFXUjtJQUN2RCxHQUFHO1FBQUN0QjtRQUFTVTtLQUFXO0lBRXhCLHFEQUFxRDtJQUNyRHZDLGdEQUFTQSxDQUFDO1FBQ1IsaURBQWlEO1FBQ2pELElBQUksQ0FBQ3lDLGVBQWU7UUFFcEIseUVBQXlFO1FBQ3pFLElBQUltQjtRQUVKLElBQUkvQixXQUFXRSxXQUFXO1lBQ3hCNkIsa0JBQWtCQyxXQUFXO2dCQUMzQkwsdUJBQXVCM0I7WUFDekIsR0FBRyxNQUFNLGNBQWM7UUFDekI7UUFFQSxPQUFPO1lBQ0wsSUFBSStCLGlCQUFpQkUsYUFBYUY7UUFDcEM7SUFDRixHQUFHO1FBQUMvQjtRQUFTRTtRQUFXVTtLQUFjO0lBRXRDLE1BQU1lLHlCQUF5QixPQUFPTztRQUNwQyxJQUFJLENBQUNBLGtCQUFrQjFCLGdCQUFnQixDQUFDSSxlQUFlO1FBRXZESCxnQkFBZ0I7UUFDaEIsSUFBSTtZQUNGLDZEQUE2RDtZQUM3RCxNQUFNQyxhQUFhLE1BQU1oQix1RUFBa0JBLENBQUN3QyxnQkFBZ0I7Z0JBQzFEQyxXQUFXO2dCQUNYQyxhQUFhO1lBQ2Y7WUFFQXpCLGNBQWNEO1FBQ2hCLEVBQUUsT0FBTzJCLE9BQU87WUFDZGpCLFFBQVFpQixLQUFLLENBQUMsZ0NBQWdDQTtZQUM5QzFCLGNBQWM7UUFDaEIsU0FBVTtZQUNSRixnQkFBZ0I7UUFDbEI7SUFDRjtJQUVBLE1BQU02QixnQkFBZ0I7UUFDcEJqQyxlQUFlLENBQUNEO0lBQ2xCO0lBRUEscUJBQ0UsOERBQUNtQztRQUFJQyxXQUFVOzswQkFFYiw4REFBQ0M7Z0JBQU9ELFdBQVU7O2tDQUNoQiw4REFBQ0Q7d0JBQUlDLFdBQVU7OzBDQUNiLDhEQUFDakUseURBQU1BO2dDQUFDbUUsU0FBUTtnQ0FBUUMsTUFBSztnQ0FBT0MsU0FBUyxJQUFNN0IsT0FBTzhCLElBQUksQ0FBQzswQ0FDN0QsNEVBQUNoRSw0SkFBU0E7b0NBQUMyRCxXQUFVOzs7Ozs7Ozs7OzswQ0FFdkIsOERBQUNEO2dDQUFJQyxXQUFVOztrREFDYiw4REFBQ3hELDRKQUFLQTt3Q0FBQ3dELFdBQVU7Ozs7OztrREFDakIsOERBQUNoRSx1REFBS0E7d0NBQ0pzRSxPQUFPaEQ7d0NBQ1BpRCxVQUFVLENBQUN4QixJQUFNeEIsU0FBU3dCLEVBQUV5QixNQUFNLENBQUNGLEtBQUs7d0NBQ3hDTixXQUFVOzs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBSWhCLDhEQUFDRDt3QkFBSUMsV0FBVTs7MENBQ2IsOERBQUNqRSx5REFBTUE7Z0NBQUNtRSxTQUFRO2dDQUFVQyxNQUFLOztrREFDN0IsOERBQUN4RCw0SkFBSUE7d0NBQUNxRCxXQUFVOzs7Ozs7b0NBQWlCOzs7Ozs7OzBDQUduQyw4REFBQ2pFLHlEQUFNQTtnQ0FBQ21FLFNBQVE7Z0NBQVFDLE1BQUs7MENBQzNCLDRFQUFDdkQsNEpBQVFBO29DQUFDb0QsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7MEJBTTFCLDhEQUFDRDtnQkFBSUMsV0FBVTs7a0NBRWIsOERBQUNEO3dCQUFJQyxXQUFVO2tDQUNiLDRFQUFDRDs0QkFBSUMsV0FBVTtzQ0FDYiw0RUFBQ2xELHFFQUFhQTtnQ0FBQ1UsU0FBU0E7Z0NBQVNVLFlBQVlBO2dDQUFZcUMsVUFBVTdCO2dDQUFxQitCLEtBQUtuQzs7Ozs7Ozs7Ozs7Ozs7OztvQkFLaEdWLDZCQUNDLDhEQUFDbUM7d0JBQUlDLFdBQVU7a0NBQ2IsNEVBQUMvRCxxREFBSUE7NEJBQUNxRSxPQUFPeEM7NEJBQVc0QyxlQUFlM0M7NEJBQWNpQyxXQUFVOzs4Q0FDN0QsOERBQUNEO29DQUFJQyxXQUFVOzhDQUNiLDRFQUFDN0QseURBQVFBO3dDQUFDNkQsV0FBVTs7MERBQ2xCLDhEQUFDNUQsNERBQVdBO2dEQUFDa0UsT0FBTTtnREFBT04sV0FBVTs7a0VBQ2xDLDhEQUFDdEQsNEpBQWFBO3dEQUFDc0QsV0FBVTs7Ozs7O29EQUFpQjs7Ozs7OzswREFHNUMsOERBQUM1RCw0REFBV0E7Z0RBQUNrRSxPQUFNO2dEQUFXTixXQUFVOztrRUFDdEMsOERBQUN6RCw0SkFBS0E7d0RBQUN5RCxXQUFVOzs7Ozs7b0RBQWlCOzs7Ozs7OzBEQUdwQyw4REFBQzVELDREQUFXQTtnREFBQ2tFLE9BQU07Z0RBQVVOLFdBQVU7O2tFQUNyQyw4REFBQ3ZELDRKQUFJQTt3REFBQ3VELFdBQVU7Ozs7OztvREFBaUI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs4Q0FNdkMsOERBQUM5RCw0REFBV0E7b0NBQUNvRSxPQUFNO29DQUFPTixXQUFVOzhDQUNsQyw0RUFBQ2pELHFFQUFhQTt3Q0FBQzRELGlCQUFpQm5EO3dDQUFTb0QsY0FBYyxDQUFDQyxPQUFTcEQsV0FBV0QsVUFBVXFEOzs7Ozs7Ozs7Ozs4Q0FHeEYsOERBQUMzRSw0REFBV0E7b0NBQUNvRSxPQUFNO29DQUFXTixXQUFVOzhDQUN0Qyw0RUFBQy9DLHVFQUFjQTt3Q0FDYjZELFlBQVl6RCxPQUFPMEQsRUFBRTt3Q0FDckJDLGlCQUFpQixDQUFDQyxpQkFBbUJ4RCxXQUFXd0Q7Ozs7Ozs7Ozs7OzhDQUlwRCw4REFBQy9FLDREQUFXQTtvQ0FBQ29FLE9BQU07b0NBQVVOLFdBQVU7OENBQ3JDLDRFQUFDaEQsbUVBQVlBO3dDQUNYOEQsWUFBWXpELE9BQU8wRCxFQUFFO3dDQUNyQkcsbUJBQW1CLENBQUNDLFlBQWMxRCxXQUFXRCxVQUFVMkQ7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7a0NBUWpFLDhEQUFDcEYseURBQU1BO3dCQUNMbUUsU0FBUTt3QkFDUkMsTUFBSzt3QkFDTEgsV0FBVTt3QkFDVkksU0FBU047a0NBRVJsQyw0QkFBYyw4REFBQ3RCLDRKQUFZQTs0QkFBQzBELFdBQVU7Ozs7O2lEQUFlLDhEQUFDbkQsNEpBQVdBOzRCQUFDbUQsV0FBVTs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7QUFLdkY7R0FsTHdCNUM7O1FBVVB0QixzREFBU0E7OztLQVZGc0IiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vYXBwL2VkaXRvci9baWRdL3BhZ2UudHN4P2NkZjQiXSwic291cmNlc0NvbnRlbnQiOlsiXCJ1c2UgY2xpZW50XCJcblxuaW1wb3J0IHsgdXNlRWZmZWN0LCB1c2VSZWYsIHVzZVN0YXRlIH0gZnJvbSBcInJlYWN0XCJcbmltcG9ydCB7IHVzZVJvdXRlciB9IGZyb20gXCJuZXh0L25hdmlnYXRpb25cIlxuaW1wb3J0IHsgQnV0dG9uIH0gZnJvbSBcIkAvY29tcG9uZW50cy91aS9idXR0b25cIlxuaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL2lucHV0XCJcbmltcG9ydCB7IFRhYnMsIFRhYnNDb250ZW50LCBUYWJzTGlzdCwgVGFic1RyaWdnZXIgfSBmcm9tIFwiQC9jb21wb25lbnRzL3VpL3RhYnNcIlxuaW1wb3J0IHsgQXJyb3dMZWZ0LCBDaGV2cm9uUmlnaHQsIENsb2NrLCBFZGl0MywgSGFzaCwgTWVzc2FnZVNxdWFyZSwgU2F2ZSwgU2V0dGluZ3MsIENoZXZyb25MZWZ0IH0gZnJvbSBcImx1Y2lkZS1yZWFjdFwiXG5pbXBvcnQgeyBnZW5lcmF0ZVRleHQgfSBmcm9tIFwiYWlcIlxuaW1wb3J0IHsgb3BlbmFpIH0gZnJvbSBcIkBhaS1zZGsvb3BlbmFpXCJcbmltcG9ydCB7IEVkaXRvckNvbnRlbnQgfSBmcm9tIFwiQC9jb21wb25lbnRzL2VkaXRvci1jb250ZW50XCJcbmltcG9ydCB7IENoYXRJbnRlcmZhY2UgfSBmcm9tIFwiQC9jb21wb25lbnRzL2NoYXQtaW50ZXJmYWNlXCJcbmltcG9ydCB7IFNvdXJjZXNQYW5lbCB9IGZyb20gXCJAL2NvbXBvbmVudHMvc291cmNlcy1wYW5lbFwiXG5pbXBvcnQgeyBWZXJzaW9uSGlzdG9yeSB9IGZyb20gXCJAL2NvbXBvbmVudHMvdmVyc2lvbi1oaXN0b3J5XCJcbmltcG9ydCB7IGdlbmVyYXRlU3VnZ2VzdGlvbiwgaXNPcGVuQUlDb25maWd1cmVkIH0gZnJvbSBcIkAvbGliL29wZW5haS1jb25maWdcIlxuXG5leHBvcnQgZGVmYXVsdCBmdW5jdGlvbiBFZGl0b3JQYWdlKHsgcGFyYW1zIH06IHsgcGFyYW1zOiB7IGlkOiBzdHJpbmcgfSB9KSB7XG4gIGNvbnN0IFt0aXRsZSwgc2V0VGl0bGVdID0gdXNlU3RhdGUoXCJVbnRpdGxlZCBEb2N1bWVudFwiKVxuICBjb25zdCBbY29udGVudCwgc2V0Q29udGVudF0gPSB1c2VTdGF0ZShcIlwiKVxuICBjb25zdCBbaXNFZGl0aW5nLCBzZXRJc0VkaXRpbmddID0gdXNlU3RhdGUodHJ1ZSlcbiAgY29uc3QgW3Nob3dTaWRlYmFyLCBzZXRTaG93U2lkZWJhcl0gPSB1c2VTdGF0ZSh0cnVlKVxuICBjb25zdCBbYWN0aXZlVGFiLCBzZXRBY3RpdmVUYWJdID0gdXNlU3RhdGUoXCJjaGF0XCIpXG4gIGNvbnN0IFtpc0dlbmVyYXRpbmcsIHNldElzR2VuZXJhdGluZ10gPSB1c2VTdGF0ZShmYWxzZSlcbiAgY29uc3QgW3N1Z2dlc3Rpb24sIHNldFN1Z2dlc3Rpb25dID0gdXNlU3RhdGUoXCJcIilcbiAgY29uc3QgW2FwaUNvbmZpZ3VyZWQsIHNldEFwaUNvbmZpZ3VyZWRdID0gdXNlU3RhdGUodHJ1ZSkgLy8gQXNzdW1lIHRydWUgaW5pdGlhbGx5XG4gIGNvbnN0IGVkaXRvclJlZiA9IHVzZVJlZjxIVE1MRGl2RWxlbWVudD4obnVsbClcbiAgY29uc3Qgcm91dGVyID0gdXNlUm91dGVyKClcblxuICAvLyBDaGVjayBpZiBPcGVuQUkgQVBJIGlzIGNvbmZpZ3VyZWRcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBhc3luYyBmdW5jdGlvbiBjaGVja0FwaUNvbmZpZygpIHtcbiAgICAgIGNvbnN0IGlzQ29uZmlndXJlZCA9IGF3YWl0IGlzT3BlbkFJQ29uZmlndXJlZCgpO1xuICAgICAgc2V0QXBpQ29uZmlndXJlZChpc0NvbmZpZ3VyZWQpO1xuICAgIH1cbiAgICBcbiAgICBjaGVja0FwaUNvbmZpZygpO1xuICB9LCBbXSk7XG5cbiAgLy8gSGFuZGxlIGNvbnRlbnQgY2hhbmdlc1xuICBjb25zdCBoYW5kbGVDb250ZW50Q2hhbmdlID0gKG5ld0NvbnRlbnQ6IHN0cmluZykgPT4ge1xuICAgIC8vIEVuc3VyZSB3ZSdyZSBnZXR0aW5nIHRoZSBjb250ZW50IGluIHRoZSBjb3JyZWN0IG9yZGVyXG4gICAgY29uc29sZS5sb2coJ05ldyBjb250ZW50OicsIG5ld0NvbnRlbnQpIC8vIEFkZCB0aGlzIGRlYnVnIGxvZ1xuICAgIHNldENvbnRlbnQobmV3Q29udGVudClcbiAgfVxuXG4gIC8vIEhhbmRsZSBUYWIga2V5IGZvciBhY2NlcHRpbmcgc3VnZ2VzdGlvbnNcbiAgdXNlRWZmZWN0KCgpID0+IHtcbiAgICBjb25zdCBoYW5kbGVLZXlEb3duID0gKGU6IEtleWJvYXJkRXZlbnQpID0+IHtcbiAgICAgIGlmIChlLmtleSA9PT0gXCJUYWJcIiAmJiBzdWdnZXN0aW9uICYmICFlLnNoaWZ0S2V5KSB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKVxuICAgICAgICBzZXRDb250ZW50KGNvbnRlbnQgKyBzdWdnZXN0aW9uKVxuICAgICAgICBzZXRTdWdnZXN0aW9uKFwiXCIpXG4gICAgICAgIGdlbmVyYXRlTmV4dFN1Z2dlc3Rpb24oY29udGVudCArIHN1Z2dlc3Rpb24pXG4gICAgICB9XG4gICAgfVxuXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bilcbiAgICByZXR1cm4gKCkgPT4gZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgaGFuZGxlS2V5RG93bilcbiAgfSwgW2NvbnRlbnQsIHN1Z2dlc3Rpb25dKVxuXG4gIC8vIEdlbmVyYXRlIG5leHQgd29yZCBzdWdnZXN0aW9uIHdoZW4gY29udGVudCBjaGFuZ2VzXG4gIHVzZUVmZmVjdCgoKSA9PiB7XG4gICAgLy8gT25seSBnZW5lcmF0ZSBzdWdnZXN0aW9ucyBpZiBBUEkgaXMgY29uZmlndXJlZFxuICAgIGlmICghYXBpQ29uZmlndXJlZCkgcmV0dXJuO1xuICAgIFxuICAgIC8vIE9ubHkgZ2VuZXJhdGUgc3VnZ2VzdGlvbnMgYWZ0ZXIgYSBzaG9ydCBkZWxheSBzaW5jZSB0aGUgbGFzdCBrZXlzdHJva2VcbiAgICBsZXQgZGVib3VuY2VUaW1lb3V0OiBOb2RlSlMuVGltZW91dDtcbiAgICBcbiAgICBpZiAoY29udGVudCAmJiBpc0VkaXRpbmcpIHtcbiAgICAgIGRlYm91bmNlVGltZW91dCA9IHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBnZW5lcmF0ZU5leHRTdWdnZXN0aW9uKGNvbnRlbnQpO1xuICAgICAgfSwgNTAwKTsgLy8gNTAwbXMgZGVsYXlcbiAgICB9XG4gICAgXG4gICAgcmV0dXJuICgpID0+IHtcbiAgICAgIGlmIChkZWJvdW5jZVRpbWVvdXQpIGNsZWFyVGltZW91dChkZWJvdW5jZVRpbWVvdXQpO1xuICAgIH07XG4gIH0sIFtjb250ZW50LCBpc0VkaXRpbmcsIGFwaUNvbmZpZ3VyZWRdKTtcblxuICBjb25zdCBnZW5lcmF0ZU5leHRTdWdnZXN0aW9uID0gYXN5bmMgKGN1cnJlbnRDb250ZW50OiBzdHJpbmcpID0+IHtcbiAgICBpZiAoIWN1cnJlbnRDb250ZW50IHx8IGlzR2VuZXJhdGluZyB8fCAhYXBpQ29uZmlndXJlZCkgcmV0dXJuO1xuXG4gICAgc2V0SXNHZW5lcmF0aW5nKHRydWUpO1xuICAgIHRyeSB7XG4gICAgICAvLyBVc2Ugb3VyIHNlcnZlci1zaWRlIEFQSSBlbmRwb2ludCBmb3Igc3VnZ2VzdGlvbiBnZW5lcmF0aW9uXG4gICAgICBjb25zdCBzdWdnZXN0aW9uID0gYXdhaXQgZ2VuZXJhdGVTdWdnZXN0aW9uKGN1cnJlbnRDb250ZW50LCB7XG4gICAgICAgIG1heExlbmd0aDogMTUsXG4gICAgICAgIHRlbXBlcmF0dXJlOiAwLjQsXG4gICAgICB9KTtcbiAgICAgIFxuICAgICAgc2V0U3VnZ2VzdGlvbihzdWdnZXN0aW9uKTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGdlbmVyYXRpbmcgc3VnZ2VzdGlvbjpcIiwgZXJyb3IpO1xuICAgICAgc2V0U3VnZ2VzdGlvbihcIlwiKTtcbiAgICB9IGZpbmFsbHkge1xuICAgICAgc2V0SXNHZW5lcmF0aW5nKGZhbHNlKTtcbiAgICB9XG4gIH07XG5cbiAgY29uc3QgdG9nZ2xlU2lkZWJhciA9ICgpID0+IHtcbiAgICBzZXRTaG93U2lkZWJhcighc2hvd1NpZGViYXIpXG4gIH1cblxuICByZXR1cm4gKFxuICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBmbGV4LWNvbCBoLXNjcmVlblwiPlxuICAgICAgey8qIEhlYWRlciAqL31cbiAgICAgIDxoZWFkZXIgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIganVzdGlmeS1iZXR3ZWVuIHB4LTQgcHktMiBib3JkZXItYlwiPlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwiZ2hvc3RcIiBzaXplPVwiaWNvblwiIG9uQ2xpY2s9eygpID0+IHJvdXRlci5wdXNoKFwiL1wiKX0+XG4gICAgICAgICAgICA8QXJyb3dMZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPlxuICAgICAgICAgIDwvQnV0dG9uPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleCBpdGVtcy1jZW50ZXIgZ2FwLTJcIj5cbiAgICAgICAgICAgIDxFZGl0MyBjbGFzc05hbWU9XCJ3LTUgaC01XCIgLz5cbiAgICAgICAgICAgIDxJbnB1dFxuICAgICAgICAgICAgICB2YWx1ZT17dGl0bGV9XG4gICAgICAgICAgICAgIG9uQ2hhbmdlPXsoZSkgPT4gc2V0VGl0bGUoZS50YXJnZXQudmFsdWUpfVxuICAgICAgICAgICAgICBjbGFzc05hbWU9XCJoLTkgZm9udC1tZWRpdW0gYm9yZGVyLW5vbmUgZm9jdXMtdmlzaWJsZTpyaW5nLTAgZm9jdXMtdmlzaWJsZTpyaW5nLW9mZnNldC0wXCJcbiAgICAgICAgICAgIC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuICAgICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggaXRlbXMtY2VudGVyIGdhcC0yXCI+XG4gICAgICAgICAgPEJ1dHRvbiB2YXJpYW50PVwib3V0bGluZVwiIHNpemU9XCJzbVwiPlxuICAgICAgICAgICAgPFNhdmUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgIFNhdmVcbiAgICAgICAgICA8L0J1dHRvbj5cbiAgICAgICAgICA8QnV0dG9uIHZhcmlhbnQ9XCJnaG9zdFwiIHNpemU9XCJpY29uXCI+XG4gICAgICAgICAgICA8U2V0dGluZ3MgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+XG4gICAgICAgICAgPC9CdXR0b24+XG4gICAgICAgIDwvZGl2PlxuICAgICAgPC9oZWFkZXI+XG5cbiAgICAgIHsvKiBNYWluIGNvbnRlbnQgKi99XG4gICAgICA8ZGl2IGNsYXNzTmFtZT1cImZsZXggZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICB7LyogRWRpdG9yIGFyZWEgKi99XG4gICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiZmxleC0xIG92ZXJmbG93LWhpZGRlblwiPlxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwicmVsYXRpdmUgaC1mdWxsXCI+XG4gICAgICAgICAgICA8RWRpdG9yQ29udGVudCBjb250ZW50PXtjb250ZW50fSBzdWdnZXN0aW9uPXtzdWdnZXN0aW9ufSBvbkNoYW5nZT17aGFuZGxlQ29udGVudENoYW5nZX0gcmVmPXtlZGl0b3JSZWZ9IC8+XG4gICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvZGl2PlxuXG4gICAgICAgIHsvKiBTaWRlYmFyICovfVxuICAgICAgICB7c2hvd1NpZGViYXIgJiYgKFxuICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwidy04MCBib3JkZXItbCBiZy1iYWNrZ3JvdW5kXCI+XG4gICAgICAgICAgICA8VGFicyB2YWx1ZT17YWN0aXZlVGFifSBvblZhbHVlQ2hhbmdlPXtzZXRBY3RpdmVUYWJ9IGNsYXNzTmFtZT1cImgtZnVsbCBmbGV4IGZsZXgtY29sXCI+XG4gICAgICAgICAgICAgIDxkaXYgY2xhc3NOYW1lPVwiYm9yZGVyLWJcIj5cbiAgICAgICAgICAgICAgICA8VGFic0xpc3QgY2xhc3NOYW1lPVwidy1mdWxsIGp1c3RpZnktc3RhcnQgcm91bmRlZC1ub25lIGJvcmRlci1iIHB4LTIgaC0xMlwiPlxuICAgICAgICAgICAgICAgICAgPFRhYnNUcmlnZ2VyIHZhbHVlPVwiY2hhdFwiIGNsYXNzTmFtZT1cImRhdGEtW3N0YXRlPWFjdGl2ZV06YmctbXV0ZWRcIj5cbiAgICAgICAgICAgICAgICAgICAgPE1lc3NhZ2VTcXVhcmUgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgQ2hhdFxuICAgICAgICAgICAgICAgICAgPC9UYWJzVHJpZ2dlcj5cbiAgICAgICAgICAgICAgICAgIDxUYWJzVHJpZ2dlciB2YWx1ZT1cInZlcnNpb25zXCIgY2xhc3NOYW1lPVwiZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICA8Q2xvY2sgY2xhc3NOYW1lPVwidy00IGgtNCBtci0yXCIgLz5cbiAgICAgICAgICAgICAgICAgICAgVmVyc2lvbnNcbiAgICAgICAgICAgICAgICAgIDwvVGFic1RyaWdnZXI+XG4gICAgICAgICAgICAgICAgICA8VGFic1RyaWdnZXIgdmFsdWU9XCJzb3VyY2VzXCIgY2xhc3NOYW1lPVwiZGF0YS1bc3RhdGU9YWN0aXZlXTpiZy1tdXRlZFwiPlxuICAgICAgICAgICAgICAgICAgICA8SGFzaCBjbGFzc05hbWU9XCJ3LTQgaC00IG1yLTJcIiAvPlxuICAgICAgICAgICAgICAgICAgICBTb3VyY2VzXG4gICAgICAgICAgICAgICAgICA8L1RhYnNUcmlnZ2VyPlxuICAgICAgICAgICAgICAgIDwvVGFic0xpc3Q+XG4gICAgICAgICAgICAgIDwvZGl2PlxuXG4gICAgICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cImNoYXRcIiBjbGFzc05hbWU9XCJmbGV4LTEgcC0wIG0tMCBvdmVyZmxvdy1oaWRkZW5cIj5cbiAgICAgICAgICAgICAgICA8Q2hhdEludGVyZmFjZSBkb2N1bWVudENvbnRlbnQ9e2NvbnRlbnR9IG9uSW5zZXJ0VGV4dD17KHRleHQpID0+IHNldENvbnRlbnQoY29udGVudCArIHRleHQpfSAvPlxuICAgICAgICAgICAgICA8L1RhYnNDb250ZW50PlxuXG4gICAgICAgICAgICAgIDxUYWJzQ29udGVudCB2YWx1ZT1cInZlcnNpb25zXCIgY2xhc3NOYW1lPVwiZmxleC0xIHAtMCBtLTAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPFZlcnNpb25IaXN0b3J5XG4gICAgICAgICAgICAgICAgICBkb2N1bWVudElkPXtwYXJhbXMuaWR9XG4gICAgICAgICAgICAgICAgICBvblNlbGVjdFZlcnNpb249eyh2ZXJzaW9uQ29udGVudCkgPT4gc2V0Q29udGVudCh2ZXJzaW9uQ29udGVudCl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cblxuICAgICAgICAgICAgICA8VGFic0NvbnRlbnQgdmFsdWU9XCJzb3VyY2VzXCIgY2xhc3NOYW1lPVwiZmxleC0xIHAtMCBtLTAgb3ZlcmZsb3ctaGlkZGVuXCI+XG4gICAgICAgICAgICAgICAgPFNvdXJjZXNQYW5lbFxuICAgICAgICAgICAgICAgICAgZG9jdW1lbnRJZD17cGFyYW1zLmlkfVxuICAgICAgICAgICAgICAgICAgb25JbnNlcnRSZWZlcmVuY2U9eyhyZWZlcmVuY2UpID0+IHNldENvbnRlbnQoY29udGVudCArIHJlZmVyZW5jZSl9XG4gICAgICAgICAgICAgICAgLz5cbiAgICAgICAgICAgICAgPC9UYWJzQ29udGVudD5cbiAgICAgICAgICAgIDwvVGFicz5cbiAgICAgICAgICA8L2Rpdj5cbiAgICAgICAgKX1cblxuICAgICAgICB7LyogU2lkZWJhciB0b2dnbGUgKi99XG4gICAgICAgIDxCdXR0b25cbiAgICAgICAgICB2YXJpYW50PVwiZ2hvc3RcIlxuICAgICAgICAgIHNpemU9XCJpY29uXCJcbiAgICAgICAgICBjbGFzc05hbWU9XCJhYnNvbHV0ZSByaWdodC0wIHRvcC0xLzIgdHJhbnNmb3JtIC10cmFuc2xhdGUteS0xLzIgei0xMFwiXG4gICAgICAgICAgb25DbGljaz17dG9nZ2xlU2lkZWJhcn1cbiAgICAgICAgPlxuICAgICAgICAgIHtzaG93U2lkZWJhciA/IDxDaGV2cm9uUmlnaHQgY2xhc3NOYW1lPVwidy00IGgtNFwiIC8+IDogPENoZXZyb25MZWZ0IGNsYXNzTmFtZT1cInctNCBoLTRcIiAvPn1cbiAgICAgICAgPC9CdXR0b24+XG4gICAgICA8L2Rpdj5cbiAgICA8L2Rpdj5cbiAgKVxufVxuXG4iXSwibmFtZXMiOlsidXNlRWZmZWN0IiwidXNlUmVmIiwidXNlU3RhdGUiLCJ1c2VSb3V0ZXIiLCJCdXR0b24iLCJJbnB1dCIsIlRhYnMiLCJUYWJzQ29udGVudCIsIlRhYnNMaXN0IiwiVGFic1RyaWdnZXIiLCJBcnJvd0xlZnQiLCJDaGV2cm9uUmlnaHQiLCJDbG9jayIsIkVkaXQzIiwiSGFzaCIsIk1lc3NhZ2VTcXVhcmUiLCJTYXZlIiwiU2V0dGluZ3MiLCJDaGV2cm9uTGVmdCIsIkVkaXRvckNvbnRlbnQiLCJDaGF0SW50ZXJmYWNlIiwiU291cmNlc1BhbmVsIiwiVmVyc2lvbkhpc3RvcnkiLCJnZW5lcmF0ZVN1Z2dlc3Rpb24iLCJpc09wZW5BSUNvbmZpZ3VyZWQiLCJFZGl0b3JQYWdlIiwicGFyYW1zIiwidGl0bGUiLCJzZXRUaXRsZSIsImNvbnRlbnQiLCJzZXRDb250ZW50IiwiaXNFZGl0aW5nIiwic2V0SXNFZGl0aW5nIiwic2hvd1NpZGViYXIiLCJzZXRTaG93U2lkZWJhciIsImFjdGl2ZVRhYiIsInNldEFjdGl2ZVRhYiIsImlzR2VuZXJhdGluZyIsInNldElzR2VuZXJhdGluZyIsInN1Z2dlc3Rpb24iLCJzZXRTdWdnZXN0aW9uIiwiYXBpQ29uZmlndXJlZCIsInNldEFwaUNvbmZpZ3VyZWQiLCJlZGl0b3JSZWYiLCJyb3V0ZXIiLCJjaGVja0FwaUNvbmZpZyIsImlzQ29uZmlndXJlZCIsImhhbmRsZUNvbnRlbnRDaGFuZ2UiLCJuZXdDb250ZW50IiwiY29uc29sZSIsImxvZyIsImhhbmRsZUtleURvd24iLCJlIiwia2V5Iiwic2hpZnRLZXkiLCJwcmV2ZW50RGVmYXVsdCIsImdlbmVyYXRlTmV4dFN1Z2dlc3Rpb24iLCJkb2N1bWVudCIsImFkZEV2ZW50TGlzdGVuZXIiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZGVib3VuY2VUaW1lb3V0Iiwic2V0VGltZW91dCIsImNsZWFyVGltZW91dCIsImN1cnJlbnRDb250ZW50IiwibWF4TGVuZ3RoIiwidGVtcGVyYXR1cmUiLCJlcnJvciIsInRvZ2dsZVNpZGViYXIiLCJkaXYiLCJjbGFzc05hbWUiLCJoZWFkZXIiLCJ2YXJpYW50Iiwic2l6ZSIsIm9uQ2xpY2siLCJwdXNoIiwidmFsdWUiLCJvbkNoYW5nZSIsInRhcmdldCIsInJlZiIsIm9uVmFsdWVDaGFuZ2UiLCJkb2N1bWVudENvbnRlbnQiLCJvbkluc2VydFRleHQiLCJ0ZXh0IiwiZG9jdW1lbnRJZCIsImlkIiwib25TZWxlY3RWZXJzaW9uIiwidmVyc2lvbkNvbnRlbnQiLCJvbkluc2VydFJlZmVyZW5jZSIsInJlZmVyZW5jZSJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./app/editor/[id]/page.tsx\n"));

/***/ }),

/***/ "(app-pages-browser)/./lib/openai-config.ts":
/*!******************************!*\
  !*** ./lib/openai-config.ts ***!
  \******************************/
/***/ (function(module, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   generateSuggestion: function() { return /* binding */ generateSuggestion; },\n/* harmony export */   getOpenAIModel: function() { return /* binding */ getOpenAIModel; },\n/* harmony export */   isOpenAIConfigured: function() { return /* binding */ isOpenAIConfigured; }\n/* harmony export */ });\n// Initialize OpenAI with API key from environment variables\nconst getOpenAIModel = (model)=>{\n    // For client-side usage, we need to check that we're accessing the API correctly\n    // This ensures the OpenAI key is only used on the server or via API routes\n    if ( true && !model.startsWith(\"openai:\")) {\n        return \"openai:\".concat(model);\n    }\n    return model;\n};\n// Function to check if OpenAI API key is configured\nasync function isOpenAIConfigured() {\n    try {\n        const response = await fetch(\"/api/test-openai\");\n        const data = await response.json();\n        return data.success === true;\n    } catch (error) {\n        console.error(\"Error checking OpenAI configuration:\", error);\n        return false;\n    }\n}\n// Helper for generating suggestions with properly configured context\nasync function generateSuggestion(text, options) {\n    const maxLength = (options === null || options === void 0 ? void 0 : options.maxLength) || 15;\n    const temperature = (options === null || options === void 0 ? void 0 : options.temperature) || 0.4;\n    try {\n        const response = await fetch(\"/api/generate-suggestion\", {\n            method: \"POST\",\n            headers: {\n                \"Content-Type\": \"application/json\"\n            },\n            body: JSON.stringify({\n                text,\n                maxTokens: maxLength,\n                temperature\n            })\n        });\n        if (!response.ok) {\n            throw new Error(\"Failed to generate suggestion\");\n        }\n        const data = await response.json();\n        return data.suggestion;\n    } catch (error) {\n        console.error(\"Error generating suggestion:\", error);\n        return \"\";\n    }\n}\n\n\n;\n    // Wrapped in an IIFE to avoid polluting the global scope\n    ;\n    (function () {\n        var _a, _b;\n        // Legacy CSS implementations will `eval` browser code in a Node.js context\n        // to extract CSS. For backwards compatibility, we need to check we're in a\n        // browser context before continuing.\n        if (typeof self !== 'undefined' &&\n            // AMP / No-JS mode does not inject these helpers:\n            '$RefreshHelpers$' in self) {\n            // @ts-ignore __webpack_module__ is global\n            var currentExports = module.exports;\n            // @ts-ignore __webpack_module__ is global\n            var prevSignature = (_b = (_a = module.hot.data) === null || _a === void 0 ? void 0 : _a.prevSignature) !== null && _b !== void 0 ? _b : null;\n            // This cannot happen in MainTemplate because the exports mismatch between\n            // templating and execution.\n            self.$RefreshHelpers$.registerExportsForReactRefresh(currentExports, module.id);\n            // A module can be accepted automatically based on its exports, e.g. when\n            // it is a Refresh Boundary.\n            if (self.$RefreshHelpers$.isReactRefreshBoundary(currentExports)) {\n                // Save the previous exports signature on update so we can compare the boundary\n                // signatures. We avoid saving exports themselves since it causes memory leaks (https://github.com/vercel/next.js/pull/53797)\n                module.hot.dispose(function (data) {\n                    data.prevSignature =\n                        self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports);\n                });\n                // Unconditionally accept an update to this module, we'll check if it's\n                // still a Refresh Boundary later.\n                // @ts-ignore importMeta is replaced in the loader\n                module.hot.accept();\n                // This field is set when the previous version of this module was a\n                // Refresh Boundary, letting us know we need to check for invalidation or\n                // enqueue an update.\n                if (prevSignature !== null) {\n                    // A boundary can become ineligible if its exports are incompatible\n                    // with the previous exports.\n                    //\n                    // For example, if you add/remove/change exports, we'll want to\n                    // re-execute the importing modules, and force those components to\n                    // re-render. Similarly, if you convert a class component to a\n                    // function, we want to invalidate the boundary.\n                    if (self.$RefreshHelpers$.shouldInvalidateReactRefreshBoundary(prevSignature, self.$RefreshHelpers$.getRefreshBoundarySignature(currentExports))) {\n                        module.hot.invalidate();\n                    }\n                    else {\n                        self.$RefreshHelpers$.scheduleUpdate();\n                    }\n                }\n            }\n            else {\n                // Since we just executed the code for the module, it's possible that the\n                // new exports made it ineligible for being a boundary.\n                // We only care about the case when we were _previously_ a boundary,\n                // because we already accepted this update (accidental side effect).\n                var isNoLongerABoundary = prevSignature !== null;\n                if (isNoLongerABoundary) {\n                    module.hot.invalidate();\n                }\n            }\n        }\n    })();\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL2xpYi9vcGVuYWktY29uZmlnLnRzIiwibWFwcGluZ3MiOiI7Ozs7OztBQUVBLDREQUE0RDtBQUNyRCxNQUFNQSxpQkFBaUIsQ0FBQ0M7SUFDN0IsaUZBQWlGO0lBQ2pGLDJFQUEyRTtJQUMzRSxJQUFJLEtBQWtCLElBQWUsQ0FBQ0EsTUFBTUMsVUFBVSxDQUFDLFlBQVk7UUFDakUsT0FBTyxVQUFnQixPQUFORDtJQUNuQjtJQUVBLE9BQU9BO0FBQ1QsRUFBRTtBQUVGLG9EQUFvRDtBQUM3QyxlQUFlRTtJQUNwQixJQUFJO1FBQ0YsTUFBTUMsV0FBVyxNQUFNQyxNQUFNO1FBQzdCLE1BQU1DLE9BQU8sTUFBTUYsU0FBU0csSUFBSTtRQUNoQyxPQUFPRCxLQUFLRSxPQUFPLEtBQUs7SUFDMUIsRUFBRSxPQUFPQyxPQUFPO1FBQ2RDLFFBQVFELEtBQUssQ0FBQyx3Q0FBd0NBO1FBQ3RELE9BQU87SUFDVDtBQUNGO0FBRUEscUVBQXFFO0FBQzlELGVBQWVFLG1CQUNwQkMsSUFBWSxFQUNaQyxPQUFzRDtJQUV0RCxNQUFNQyxZQUFZRCxDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNDLFNBQVMsS0FBSTtJQUN4QyxNQUFNQyxjQUFjRixDQUFBQSxvQkFBQUEsOEJBQUFBLFFBQVNFLFdBQVcsS0FBSTtJQUU1QyxJQUFJO1FBQ0YsTUFBTVgsV0FBVyxNQUFNQyxNQUFNLDRCQUE0QjtZQUN2RFcsUUFBUTtZQUNSQyxTQUFTO2dCQUNQLGdCQUFnQjtZQUNsQjtZQUNBQyxNQUFNQyxLQUFLQyxTQUFTLENBQUM7Z0JBQ25CUjtnQkFDQVMsV0FBV1A7Z0JBQ1hDO1lBQ0Y7UUFDRjtRQUVBLElBQUksQ0FBQ1gsU0FBU2tCLEVBQUUsRUFBRTtZQUNoQixNQUFNLElBQUlDLE1BQU07UUFDbEI7UUFFQSxNQUFNakIsT0FBTyxNQUFNRixTQUFTRyxJQUFJO1FBQ2hDLE9BQU9ELEtBQUtrQixVQUFVO0lBQ3hCLEVBQUUsT0FBT2YsT0FBTztRQUNkQyxRQUFRRCxLQUFLLENBQUMsZ0NBQWdDQTtRQUM5QyxPQUFPO0lBQ1Q7QUFDRiIsInNvdXJjZXMiOlsid2VicGFjazovL19OX0UvLi9saWIvb3BlbmFpLWNvbmZpZy50cz8yMDVjIl0sInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IG9wZW5haSB9IGZyb20gJ0BhaS1zZGsvb3BlbmFpJztcblxuLy8gSW5pdGlhbGl6ZSBPcGVuQUkgd2l0aCBBUEkga2V5IGZyb20gZW52aXJvbm1lbnQgdmFyaWFibGVzXG5leHBvcnQgY29uc3QgZ2V0T3BlbkFJTW9kZWwgPSAobW9kZWw6IHN0cmluZykgPT4ge1xuICAvLyBGb3IgY2xpZW50LXNpZGUgdXNhZ2UsIHdlIG5lZWQgdG8gY2hlY2sgdGhhdCB3ZSdyZSBhY2Nlc3NpbmcgdGhlIEFQSSBjb3JyZWN0bHlcbiAgLy8gVGhpcyBlbnN1cmVzIHRoZSBPcGVuQUkga2V5IGlzIG9ubHkgdXNlZCBvbiB0aGUgc2VydmVyIG9yIHZpYSBBUEkgcm91dGVzXG4gIGlmICh0eXBlb2Ygd2luZG93ICE9PSAndW5kZWZpbmVkJyAmJiAhbW9kZWwuc3RhcnRzV2l0aCgnb3BlbmFpOicpKSB7XG4gICAgcmV0dXJuIGBvcGVuYWk6JHttb2RlbH1gO1xuICB9XG4gIFxuICByZXR1cm4gbW9kZWw7XG59O1xuXG4vLyBGdW5jdGlvbiB0byBjaGVjayBpZiBPcGVuQUkgQVBJIGtleSBpcyBjb25maWd1cmVkXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gaXNPcGVuQUlDb25maWd1cmVkKCk6IFByb21pc2U8Ym9vbGVhbj4ge1xuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvdGVzdC1vcGVuYWknKTtcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhLnN1Y2Nlc3MgPT09IHRydWU7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgY2hlY2tpbmcgT3BlbkFJIGNvbmZpZ3VyYXRpb246JywgZXJyb3IpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfVxufVxuXG4vLyBIZWxwZXIgZm9yIGdlbmVyYXRpbmcgc3VnZ2VzdGlvbnMgd2l0aCBwcm9wZXJseSBjb25maWd1cmVkIGNvbnRleHRcbmV4cG9ydCBhc3luYyBmdW5jdGlvbiBnZW5lcmF0ZVN1Z2dlc3Rpb24oXG4gIHRleHQ6IHN0cmluZywgXG4gIG9wdGlvbnM/OiB7IG1heExlbmd0aD86IG51bWJlcjsgdGVtcGVyYXR1cmU/OiBudW1iZXIgfVxuKSB7XG4gIGNvbnN0IG1heExlbmd0aCA9IG9wdGlvbnM/Lm1heExlbmd0aCB8fCAxNTtcbiAgY29uc3QgdGVtcGVyYXR1cmUgPSBvcHRpb25zPy50ZW1wZXJhdHVyZSB8fCAwLjQ7XG4gIFxuICB0cnkge1xuICAgIGNvbnN0IHJlc3BvbnNlID0gYXdhaXQgZmV0Y2goJy9hcGkvZ2VuZXJhdGUtc3VnZ2VzdGlvbicsIHtcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxuICAgICAgaGVhZGVyczoge1xuICAgICAgICAnQ29udGVudC1UeXBlJzogJ2FwcGxpY2F0aW9uL2pzb24nLFxuICAgICAgfSxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgdGV4dCxcbiAgICAgICAgbWF4VG9rZW5zOiBtYXhMZW5ndGgsXG4gICAgICAgIHRlbXBlcmF0dXJlLFxuICAgICAgfSksXG4gICAgfSk7XG4gICAgXG4gICAgaWYgKCFyZXNwb25zZS5vaykge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKCdGYWlsZWQgdG8gZ2VuZXJhdGUgc3VnZ2VzdGlvbicpO1xuICAgIH1cbiAgICBcbiAgICBjb25zdCBkYXRhID0gYXdhaXQgcmVzcG9uc2UuanNvbigpO1xuICAgIHJldHVybiBkYXRhLnN1Z2dlc3Rpb247XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgY29uc29sZS5lcnJvcignRXJyb3IgZ2VuZXJhdGluZyBzdWdnZXN0aW9uOicsIGVycm9yKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn0gIl0sIm5hbWVzIjpbImdldE9wZW5BSU1vZGVsIiwibW9kZWwiLCJzdGFydHNXaXRoIiwiaXNPcGVuQUlDb25maWd1cmVkIiwicmVzcG9uc2UiLCJmZXRjaCIsImRhdGEiLCJqc29uIiwic3VjY2VzcyIsImVycm9yIiwiY29uc29sZSIsImdlbmVyYXRlU3VnZ2VzdGlvbiIsInRleHQiLCJvcHRpb25zIiwibWF4TGVuZ3RoIiwidGVtcGVyYXR1cmUiLCJtZXRob2QiLCJoZWFkZXJzIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJtYXhUb2tlbnMiLCJvayIsIkVycm9yIiwic3VnZ2VzdGlvbiJdLCJzb3VyY2VSb290IjoiIn0=\n//# sourceURL=webpack-internal:///(app-pages-browser)/./lib/openai-config.ts\n"));

/***/ })

});